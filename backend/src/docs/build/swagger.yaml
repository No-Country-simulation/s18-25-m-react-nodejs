openapi: 3.0.0

# Información de la API
info:
  title: Developer Social Network API
  version: 1.0.0
  description: Documentación de la API usando Swagger

# Servidores
servers:
  - url: "http://ec2-100-25-217-101.compute-1.amazonaws.com"
  - url: "http://localhost:3000/api/v1"
    description: Sandbox server

# Tags y orden de los endpoints
tags:
  - name: Users
    description: API para gestionar usuarios
  - name: Posts
    description: API para gestionar posts
  - name: Projects
    description: API para gestionar proyectos

# Rutas de la API
paths:
  # ------------ Rutas de usuario
  /user:
    # ------------ Rutas de usuario GET
    get:
      summary: Obtiene todos los usuarios
      tags:
        - Users
      responses:
        "200":
          description: Lista de usuarios
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserGet"

    # ------------ Rutas de usuario POST
    post:
      summary: Crea un nuevo usuario
      tags:
        - Users
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPost"
      responses:
        "201":
          description: Usuario creado

  "/user/{id}":
    # ------------ Rutas de usuario GetById
    get:
      summary: Obtiene un usuario por ID
      tags:
        - Users
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Usuario encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserGet"
        "404":
          description: Usuario no encontrado

    # ------------ Rutas de usuario PUT
    put:
      summary: Actualiza un usuario por ID
      tags:
        - Users
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPut"
      responses:
        "200":
          description: Usuario actualizado
        "404":
          description: Usuario no encontrado

    # ------------ Rutas de usuario DELETE
    delete:
      summary: Elimina un usuario por ID
      tags:
        - Users
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserDelete"
      responses:
        "204":
          description: Usuario eliminado
        "404":
          description: Usuario no encontrado

  # ------------ Rutas de post
  /post:
    # ------------ Rutas de post GET
    get:
      summary: Obtiene todos los posts
      tags:
        - Posts
      responses:
        "200":
          description: Lista de posts
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Post"

    # ------------ Rutas de post POST
    post:
      summary: Crea un nuevo post
      tags:
        - Posts
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Post"
      responses:
        "201":
          description: Post creado

  "/post/{id}":
    # ------------ Rutas de post GetById
    get:
      summary: Obtiene un post por ID
      tags:
        - Posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Post encontrado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Post"
        "404":
          description: Post no encontrado

    # ------------ Rutas de post DELETE
    delete:
      summary: Elimina un post por ID
      tags:
        - Posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Post eliminado
        "404":
          description: Post no encontrado

    # ------------ Rutas de post PUT
    put:
      summary: Actualiza un post por ID
      tags:
        - Posts
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Post"
      responses:
        "200":
          description: Post actualizado
        "404":
          description: Post no encontrado

  # ------------ Rutas de proyecto
  /project:
    # ------------ Rutas de proyecto GET
    get:
      summary: Obtiene todos los proyectos
      tags:
        - Projects
      responses:
        "200":
          description: Lista de proyectos

    # ------------ Rutas de proyecto POST
    post:
      summary: Crea un nuevo proyecto
      tags:
        - Projects
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Project"
      responses:
        "201":
          description: Proyecto creado

  "/project/{id}":
    # ------------ Rutas de proyecto GetById
    get:
      summary: Obtiene un proyecto por ID
      tags:
        - Projects
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Proyecto encontrado
        "404":
          description: Proyecto no encontrado

    # ------------ Rutas de proyecto PUT
    put:
      summary: Actualiza un proyecto por ID
      tags:
        - Projects
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Project"
      responses:
        "200":
          description: Proyecto actualizado
        "404":
          description: Proyecto no encontrado

    # ------------ Rutas de proyecto DELETE
    delete:
      summary: Elimina un proyecto por ID
      tags:
        - Projects
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "204":
          description: Proyecto eliminado
        "404":
          description: Proyecto no encontrado

# Esquemas de usuario
components:
  schemas:
    # ------------------ Esquemas Usuario Get ------------------
    UserGet:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
        password:
          type: string

    # ------------------ Esquemas Usuario Post ------------------
    UserPost:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        password:
          type: string

    # ------------------ Esquemas Usuario Put ------------------
    UserPut:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
        password:
          type: string

    # ------------------ Esquemas Usuario Delete ------------------
    UserDelete:
      type: object
      properties:
        id:
          type: string

    # ------------------ Esquemas Post ------------------
    Post:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        content:
          type: string
        user_id:
          type: number

    # ------------------ Esquemas Proyecto ------------------
    Project:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        role:
          type: string
        url:
          type: string
        collaborators:
          type: string
